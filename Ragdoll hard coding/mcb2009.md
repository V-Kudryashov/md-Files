
Я добавил источник Momentum Control for Balance. Он решает ту же задачу, что и Momentum-Based Balance Control For Simulated Characters. Не могли бы Вы сравнить эти работы.
***
Оба предоставленных источника — **"Momentum Control for Balance"** (статья) и **"Momentum-Based Balance Control For Simulated Characters"** (тезис магистерской работы) — посвящены решению одной и той же задачи: созданию системы управления в реальном времени, основанной на импульсе/моменте, для балансировки анимированного персонажа, отслеживающего опорное движение и реагирующего на внешние возмущения.

Поскольку магистерская работа (тезис) и статья написаны одним и тем же автором (А. Маккиетто) и его научными руководителями, и тезис датирован 2008 годом, а статья — 2009 годом, они описывают **одну и ту же методологию и систему**. Тезис (Master's Thesis) является подробным изложением и обоснованием работы, представленной в статье.

Вот сравнение и ключевые общие моменты, описанные в этих источниках:

### 1. Общая цель и подход

*   **Задача:** Обе работы представляют систему симуляции в реальном времени, способную **автоматически балансировать стоящего персонажа**, отслеживать заданное опорное движение (полученное с помощью motion capture или keyframe данных) и реагировать на внешние возмущения.
*   **Обобщенность:** Подход не привязан к эвристикам, специфичным для гуманоидных персонажей, что позволяет применять его к персонажам с **уникальной морфологией** (например, с четырьмя руками или похожим на курицу).
*   **Принцип управления:** Обе работы используют **контроль линейного и углового моментов** (linear and angular momenta) для управления **Центром Масс (Center of Mass, CM)** и **Центром Давления (Center of Pressure, CP)** персонажа.

### 2. Архитектура системы

Архитектура системы, описанная в обоих источниках, является гибридной и состоит из трех основных компонентов, работающих в цикле:

1.  **Оптимизация (Optimization):** Используется **квадратичная оптимизация** с линейными ограничениями для выбора **идеализированных ускорений шарниров** ($\ddot{\theta}$). Оптимизатор объединяет цели балансировки (контроль момента) и отслеживания движения. Оптимизатор работает на более низкой частоте (например, 60–200 Гц).
2.  **Обратная динамика (Inverse Dynamics):** Полученные ускорения $\ddot{\theta}$ передаются в модуль обратной динамики, который преобразует их в **управляющие моменты/силы ($u$)** с учетом Сил Реакции Опоры (Ground Reaction Forces, GRF). Используется гибридный алгоритм для плавающей базы, описанный Фетерстоуном.
3.  **Прямая динамика (Forward Dynamics):** Вычисленные моменты $u$ подаются в симулятор прямой динамики (используется алгоритм Фетерстоуна) вместе с GRF и внешними возмущениями для расчета нового состояния персонажа. Этот цикл выполняется на высокой частоте (например, 1–10 кГц) для поддержания стабильности.

### 3. Ключевые механизмы управления

*   **Контроль баланса:** Используется набор законов управления, которые диктуют соответствующие целевые изменения линейного ($\dot{L}$) и углового ($\dot{H}$) моментов для одновременного контроля траекторий CM и CP.
    *   Контроль **линейного момента ($\dot{L}$)** эквивалентен контролю ускорения CM ($\ddot{c}$) и используется для направления CM к центру опоры.
    *   Контроль **углового момента ($\dot{H}$)** используется для управления CP и предотвращения вращения опоры (начала опрокидывания), особенно в экстремальных ситуациях.
*   **Разрешение конфликтов:** Конфликтующие цели балансировки и отслеживания опорного движения разрешаются в рамках оптимизации, которая ищет оптимальный набор ускорений.

### 4. Новизна и отличия от других работ

Обе работы подчеркивают следующие аспекты как новые или улучшенные по сравнению с существовавшими методами:

*   **Одновременный контроль CM и CP:** В отличие от большинства предыдущих работ, которые фокусировались только на контроле CM или ZMP (Zero-Moment Point, аналог CP), эта методика использует контроль момента для управления **и CM, и CP одновременно**.
*   **Использование всего тела:** Контроллер автоматически задействует движения всего тела, например, движения рук, для балансировки (т.н. "windmilling").
*   **Эффективность оптимизации:** Предложенная оптимизационная структура использует только **равенства** в качестве ограничений (для фиксации опоры), избегая сложных итерационных методов решения, требуемых при использовании **неравенств** (например, для конуса трения), что делает оптимизатор более эффективным для работы в реальном времени. Система полагается на надежность целей балансировки, чтобы избежать проскальзывания, а не на строгие ограничения трения в оптимизаторе.

В заключение, источники описывают **одну и ту же систему**, причем статья (Momentum Control for Balance) представляет собой краткое изложение, а тезис (Momentum-Based Balance Control For Simulated Characters) — подробное техническое описание и обоснование.

***
Что нового в более позней работе?
***
Обе работы — "Momentum Control for Balance" (2009) и "Momentum-Based Balance Control For Simulated Characters" (2008) — описывают по сути **одну и ту же систему и методологию**, так как тезис (2008) является подробным обоснованием и изложением работы, которая легла в основу статьи (2009).

Следовательно, "новизна" в более поздней работе (статье 2009 года) относится к ее отличию от *предшествующих методов* в области компьютерной анимации и робототехники, а не от тезиса самого автора.

Основные **новые аспекты** предложенной системы, которые выделены в более поздней работе (2009), включают:

### 1. Новый метод контроля баланса через импульс (момент)

Главное новшество заключается в использовании набора законов управления, которые диктуют соответствующие целевые изменения **линейного и углового моментов** ($\dot{L}$ и $\dot{H}$) для **одновременного контроля траекторий Центра Масс (CM) и Центра Давления (CP)**.

*   **Контроль CM и CP:** В отличие от большинства предыдущих подходов, которые фокусировались только на контроле CM или ZMP (аналог CP), эта методика регулирует оба параметра одновременно, что делает ее более устойчивой при экстремальных задачах балансировки и приводит к более естественным движениям верхней части тела.
*   **Использование всего тела:** Контроллер автоматически использует движения всего тела, такие как взмахи руками ("windmilling"), для восстановления баланса, что является результатом нацеленности на контроль импульса всего тела.

### 2. Оптимизация без ограничений неравенства

Система использует новый фреймворк оптимизации, который решает задачу квадратичной оптимизации (QP) над ускорениями шарниров ($\ddot{\theta}$), чтобы согласовать цели баланса и следования опорному движению.

*   **Повышенная эффективность:** Эта формулировка **более эффективна** для выполнения в реальном времени, поскольку в ней используются только **ограничения равенства** (для фиксации опоры на земле), но **отсутствуют ограничения неравенства** (такие как конус трения). Использование только равенств позволяет избежать более сложного итерационного решателя, требуемого для общих задач QP.
*   **Гибридный подход:** Система полагается на надежность целей контроля момента (импульса) для предотвращения проскальзывания, а не на строгие физические ограничения в оптимизаторе.

### 3. Расширения и детализация (Extensions)

В более поздней работе также подробно описаны полезные расширения, которые делают систему более функциональной:

*   **Контроль трения и податливости:** Возможность контролировать результирующую Силу Реакции Опоры (GRF) путем ограничения нормальной составляющей производной линейного момента ($\dot{L}_{des}$). Также введено ограничение, гарантирующее, что тангенциальная сила трения находится в пределах **конуса трения**.
*   **Мягкие ограничения точек (IK):** Добавление мягких ограничений ускорения точек (аналогичных обратной кинематике, IK) и ограничений ориентации тела в качестве дополнительных целей оптимизации, позволяющих решать конфликтующие требования.
*   **Двухпроходная оптимизация:** Использование второго цикла оптимизации, в котором первый проход (игнорирующий угловой баланс) вычисляет "идеальное" положение CP ($p^*$), которое затем используется во втором проходе для улучшения точности следования опорному движению.
